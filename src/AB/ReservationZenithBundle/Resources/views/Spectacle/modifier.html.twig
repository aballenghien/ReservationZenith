{% extends "ABReservationZenithBundle::layout.html.twig" %}

{% block title %}{{ 'modifier.spectacle'|trans }}{% endblock %}

{% block body %}
{{ parent () }}
	{% if is_granted('ROLE_ADMIN') %}
	<h3>{{ 'modifier.spectacle'|trans }}</h3>
	<div class='well'>
		<form action="" method="post">
		{{ form_start(form) }}
			<div id="spectacle">
				<p>{{ form_label(form.titre) }}:  {{ form_widget(form.titre) }}  {{form_errors(form.titre)}}</p>
				<p>{{ form_label(form.duree) }}:  {{ form_widget(form.duree) }}  {{form_errors(form.duree)}}</p>
				<p>{{ form_label(form.genre) }}:  {{ form_widget(form.genre) }}  {{form_errors(form.genre)}}</p>
				<p>{{ form_label(form.nombreDePlaces) }}:  {{ form_widget(form.nombreDePlaces) }}  {{form_errors(form.nombreDePlaces)}}</p>
			
			</div>
			<div id="seances" data-prototype="
			{% filter escape %}
		             {{ include('ABReservationZenithBundle:Seance:ajouter.html.twig', { 'form': form.seances.vars.prototype }) }}
		    {% endfilter %}">
				{% for seance in form.seances %}
					<div id="seance">			
					
					{{ 'seanceTrad.seance'|trans }} n°{{form_label(seance)}}
				    <table>
				    	<tr><td>{{form_label(seance.heure)}}</td><td>{{form_widget(seance.heure)}}</td></tr>
				    	<tr><td>{{form_label(seance.date)}}</td><td>{{form_widget(seance.date)}}</td></tr>
				    	<tr><td>{{form_label(seance.nombrePlacesRestantes)}}</td><td>{{form_widget(seance.nombrePlacesRestantes)}}</td></tr>
				    </table>
					<div hidden="true"/>
						{{form_rest(seance)}}
					</div>
					</div>
				{% endfor %}
					
				
			</div>
			<div id="tarifs" data-prototype="
			{% filter escape %}
		             {{ include('ABReservationZenithBundle:Tarif:ajouter.html.twig', { 'form': form.tarifs.vars.prototype }) }}
		    {% endfilter %}">
				{% for tarif in form.tarifs %}
					<div id="tarif">
						{{ 'tarifTrad.tarif'|trans }} n°{{form_label(tarif)}}
						<table>
					    	<tr><td>{{form_label(tarif.prix)}}</td><td>{{form_widget(tarif.prix)}}</td></tr>
					    	<tr><td>{{form_label(tarif.numeroPlaceMin)}}</td><td>{{form_widget(tarif.numeroPlaceMin)}}</td></tr>
					    	<tr><td>{{form_label(tarif.numeroPlaceMax)}}</td><td>{{form_widget(tarif.numeroPlaceMax)}}</td></tr>
			    		</table>  	
						<div hidden="true"/>
							{{form_rest(tarif)}}
						</div>
					</div>
				{% endfor %}
					
				
			</div>
			<div hidden="true"/>
			{{form_rest(form)}}
			</div>
			<input type="submit" />
			{{ form_end(form) }}
		</form>
	{% else %}
	<div class='well'>
		<h3> {{'privilege.addsppectacle'|trans }}</h3>
	{% endif %}
</div>
{% endblock %}

